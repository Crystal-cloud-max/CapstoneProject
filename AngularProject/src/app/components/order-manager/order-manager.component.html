
<section class="vh-100 bg-image"
  style="background-image: url('https://static.vecteezy.com/system/resources/thumbnails/038/830/156/small_2x/ai-generated-minimalistic-sweet-and-candy-background-concept-with-empty-space-photo.jpg');">
  <div class="mask d-flex align-items-center h-100">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-9 col-lg-7 col-xl-6">
       
          <!-- Orders Container -->
        <div class="card" style="border-radius: 15px; background-color: aliceblue;">

        <div class="card-body p-3">
            <table class="table caption-top" style="border-radius: 10px; background-color: aliceblue;">
                <thead>
                  <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Product Sku</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Supplier</th>
                  </tr>
                </thead>
                <tbody>
                <!-- loop thru each row for the class attributes in each table data -->
                 @for(order of orders; track $index){
                    <tr>
                        <th>{{$index+1}}</th>
                        <!-- loop thru array -->
                         @for(i of order.productList;track $index){
                            <td>{{i.productId}}</td>
                            <td>{{i.productQuantity}}</td>
                         }

                         <!-- <td>${{order.totalPrice}}</td> -->
                          
                         <!-- for the supplier -->
                         <td>{{order.supplier.id}}</td>

                         <!-- Delete Button -->
                         <td>
                            <button data-mdb-button-init
                            data-mdb-ripple-init class=
                            "btn btn-success btn-block btn-sm gradient-custom-4 text-body"
                            (click)="deleteOrder(order.orderId)">Delete</button>
                         </td>
                    </tr>
                 }
                
                </tbody>
              </table>
            </div>
        </div>
        
            <div class="card" style="border-radius: 15px; background-color: aliceblue;">
                <div class="card-body p-3">
                  <h2 class="text-uppercase text-center mb-2" style="color:darkblue">Orders</h2>
                  <!-- Order Form -->
                  <form>
                    <!-- <div data-mdb-input-init class="form-outline mb-2">
                      <input type="number" id="form3Example1cg" class="form-control form-control-md" 
                      placeholder="Sku" [(ngModel)]="orderRequest.productSkusAndQuantities" [ngModelOptions]="{standalone:true}"/>
                      <input type="number" id="form3Example1cg" class="form-control form-control-md" 
                        placeholder="Quantity" [(ngModel)]="orderRequest.productSkusAndQuantities" [ngModelOptions]="{standalone:true}"/>
                    </div> -->

                    <!-- div tag for the object array for sku/quantity -->
                    <div data-mdb-input-init class="form-outline mb-2" *ngFor="let item of SkuQuantityList; let i = index">
                        <input type="number" id="form3Example1cg" class="form-control form-control-md" 
                        placeholder="Sku" [(ngModel)]="SkuQuantityList[i].sku" [ngModelOptions]="{standalone:true}"/>
                        <label class="form-label" for="form3Example1cg">Sku No</label>
                        <input type="number" id="form3Example1cg" class="form-control form-control-md" 
                          placeholder="Quantity" [(ngModel)]="SkuQuantityList[i].quantity" [ngModelOptions]="{standalone:true}"/>
                          <label class="form-label" for="form3Example1cg">Quantity</label>
                      </div>

                      <!-- Button to Add more SKU-Qty fields -->
                    <div class="d-flex justify-content-end">
                        <button type="button" data-mdb-button-init data-mdb-ripple-init class=
                        "btn btn-success btn-block btn-sm gradient-custom-4 text-body" (click)="addSkuField()">Add Product</button>
                    </div>
                    
                    <!-- <div data-mdb-input-init class="form-outline mb-2">
                      <input type="number" id="form3Example3cg" class="form-control form-control-md"
                       placeholder="Total Price" [(ngModel)]="order.totalPrice" [ngModelOptions]="{standalone:true}" />
                       <label class="form-label" for="form3Example1cg">Price</label>
                    </div> -->

                    <div data-mdb-input-init class="form-outline mb-2">
                        <input type="number" id="form3Example3cg" class="form-control form-control-md"
                         placeholder="Supplier ID" [(ngModel)]="orderRequest.supplier_id" [ngModelOptions]="{standalone:true}"  />
                         <label class="form-label" for="form3Example1cg">Supplier Id</label>
                    </div>
 
                    <!-- display a success message after registered -->
                  <label id="successMsg" *ngIf="status" style="background-color: aquamarine; color:green">Order Added</label>

                    <!-- submit button -->
                    <div class="d-flex justify-content-center">
                      <button type="submit" data-mdb-button-init
                        data-mdb-ripple-init class="btn btn-success btn-block btn-sm gradient-custom-4 text-body"
                        (click)="placeOrder()">Place Order</button>
                    </div>
                  </form>
    
                </div>
              </div>
            <!-- } -->

        </div>
      </div>
    </div>
  </div>
</section>

